/******************************************
 * @name 海角社区
 * @description 海角社区解锁付费内容包括音频
 * @statement 仅供学习交流|禁止用于商业用途|违者后果自负|
              转载请注明来源|欢迎分享|拒绝倒卖|倒卖🐕必死🐎
 * @author 𝒀𝒖𝒉𝒆𝒏𝒈
 * @channel https://t.me/yqc_123
 * @feedback https://t.me/yqc_777
 * @update 20231001
 * @version 1.0.6
******************************************
❗❗❗本版本点击播放后存在网络请求，故请等待1-3秒(取决于你的网络环境)
hostname = *hj*,*haijiao*

^http[s]?:\/\/.*(haijiao|hj).+api\/(topic.*\d+|attachment)$ url script-response-body https://raw.githubusercontent.com/Yuheng0101/X/main/Scripts/haijiao.js

******************************************/
var version_='jsjiami.com.v7';function _0x382b(){var _0x20fd53=(function(){return[version_,'HHYjtswVjpiQuarmHi.VDqcoNwmK.NvYWR7MADKP==','f1ZdSq','WRBdI8oPWObykSkdvqH3pxpdHG','WRldHSk3xvDRFs9iqmowWOldPrW','W4PThmoAW5uvkhG','bSk2pSoRWRu','W6jGWQ7cJCkj','ANXIBti','h8kHmSoFWQG','WPJcQdDUumk6W6jaW68','gCo/W54jWPpdIW','E8kWDa8','WPflj1aK','WRhdH8o6n8kRW6ZdGmoSDfRdSJ4MWQm','W6jMW5OWWPX5','W6unx8kvnCo9g8kaW6SyBa','W50BceZdQZqoACkb','W7TZWPe0WPmAW7fryW','EmoFWQNdPa','W6WbW7SbE8kCW5qNqa','EYesWQ8dhvadeW','uSoXESo8WRjtB8oGW493rW','WOZcPdrLBCkXW5nxW7S','W5FcIYnSWRvl','WR8GW67dPmo6WQmzaxRcQG/cHdi','W6OhW6u','W5KxauBdSa','j3ddOvZdHG','W5WFcuy','W6PNWQ7cTSkRW7PgeN/cQs0','WP86kSok','EmopWPJdPNNcNqK','WOzDW5vWfq','WQxcKfrzW4D+eSkfWOK'].concat((function(){return['WRFcPmkBtmkv','m8o8W7qzWRS','z3xcKJFcMCkOW4O3W4mkW5rzpa','owvvWQu3n3yrbG','gmoxfSkIW4VdKYFdIG','lN5jWQK','W5NcNt1OWRvxW6xcUmomfCkZ','WPOYo8o5','cmoadmk3W7tdRIBdKCoXiJq0WQ/cH8kbWRarW6rDWP04DGGEWQlcISoSWPJdTmkZCgO5rwRdPCk+AcfNu8k6oMFcRG5sWRtdTCoxWQu','W7FcQSkwW77dTG','iYWFW7/cLq','kNbMWOKoW48Mwq','WOnZwxH3','jLD0','k2vtWQ06ohiseCo8WR4','amk5kCo6WQqWvq','WORdICkHA3O','WPNcHfTMW5K','wCkZi8o+W70ZvCkKq8kSamkHWRCNW5CTyH5XW63dLuvyWRFdLmk1hCk+W5FcRJpcV3TkW4eNwrPxu14YvbPZwflcSrDDrCkEWOW','AIVcHGNcJ8o/wCkZW7O4nmoB','kJ/dJq','5RE36ksG56E85yY+W5/cPSktWR9vy8oI','eSo9W5Sx','tWdcOSoOWQZdVCowwSkjvc3cTcC','W7lcUCki','gfldOSk4W7y','nt0YuCk6BwrhW7BdKmkSpCka','se1Ca1TB','WO8Vj8o0DCkswCkuW5a','aSoCWQOFW6C+W7y','v8oQymo4','pmoSWRldUq','nd0hW7C','WObJx0fEDNW','ygL3aSoTnYnW'].concat((function(){return['WPfPqvLAE20','W71ZWO8V','EsaFW7vGyg8IlSoqWQza','buXOaCkujNSG','WONcH8kAzCkC','W6Kyx8kxpG','WRDigmofzSkJdSkRW5awFKe','nmotWOmeW48','xSkfhmkS','ACouWRNdV8k2ma','W6tdHaOhWOmTp8k5WRbYzmod','WRiZWOTSW4KObcWvW7NdUSoG','gxlcK8ow','WRBdOv/cMN3dNCou','WOtcGCkKha','W7HNWQJcVSkMW7vcewG','WOGZmmoZ','WRCZWOW8WQjroGSp','WPJcQdDU','mLb8jmks','WQz3WOWYW4GEW4bhFCkZhMa','W6WMEdnGW7pcOMtdLYO3fSkrWQS','aKvpxW','W6pcRSkhW6ldT1a','WPK1nSoYF8kq','yrjHn8kSaMeG','F3n0BqbLW5Tx','ox7dGa','f8k2jmoSWRiT','o8o/WQhdVhhcHSoWz1y','e8oZW4SlWPhdL8oBkW','fSk2jSoT','W4aZmmo8F8ol'];}()));}()));}());_0x382b=function(){return _0x20fd53;};return _0x382b();};var _0x4ca96f=_0x44fc;(function(_0x584eab,_0x4da65a,_0x3ad31b,_0x5067c5,_0x555c07,_0x39fd2a,_0x5494d8){return _0x584eab=_0x584eab>>0x1,_0x39fd2a='hs',_0x5494d8='hs',function(_0x328d6c,_0x19f11d,_0x22b539,_0x1dfaf0,_0x17dc98){var _0x5ef00e=_0x44fc;_0x1dfaf0='tfi',_0x39fd2a=_0x1dfaf0+_0x39fd2a,_0x17dc98='up',_0x5494d8+=_0x17dc98,_0x39fd2a=_0x22b539(_0x39fd2a),_0x5494d8=_0x22b539(_0x5494d8),_0x22b539=0x0;var _0x16d579=_0x328d6c();while(!![]&&--_0x5067c5+_0x19f11d){try{_0x1dfaf0=parseInt(_0x5ef00e(0x147,'WyE['))/0x1+-parseInt(_0x5ef00e(0xf8,'8yTg'))/0x2*(-parseInt(_0x5ef00e(0x138,'rWpj'))/0x3)+-parseInt(_0x5ef00e(0x12a,'Vk5w'))/0x4+-parseInt(_0x5ef00e(0x126,'HlwP'))/0x5*(parseInt(_0x5ef00e(0xf4,'HlwP'))/0x6)+-parseInt(_0x5ef00e(0x114,'AnDc'))/0x7+-parseInt(_0x5ef00e(0x136,'^(p3'))/0x8+-parseInt(_0x5ef00e(0x116,'eEIM'))/0x9*(-parseInt(_0x5ef00e(0x11f,'iiqn'))/0xa);}catch(_0x24986e){_0x1dfaf0=_0x22b539;}finally{_0x17dc98=_0x16d579[_0x39fd2a]();if(_0x584eab<=_0x5067c5)_0x22b539?_0x555c07?_0x1dfaf0=_0x17dc98:_0x555c07=_0x17dc98:_0x22b539=_0x17dc98;else{if(_0x22b539==_0x555c07['replace'](/[PHYtRwVApQurWDMqNK=]/g,'')){if(_0x1dfaf0===_0x19f11d){_0x16d579['un'+_0x39fd2a](_0x17dc98);break;}_0x16d579[_0x5494d8](_0x17dc98);}}}}}(_0x3ad31b,_0x4da65a,function(_0x469001,_0x52daec,_0x1dc4ba,_0x3dd686,_0x4d43bc,_0x26808b,_0x3cb4f7){return _0x52daec='\x73\x70\x6c\x69\x74',_0x469001=arguments[0x0],_0x469001=_0x469001[_0x52daec](''),_0x1dc4ba='\x72\x65\x76\x65\x72\x73\x65',_0x469001=_0x469001[_0x1dc4ba]('\x76'),_0x3dd686='\x6a\x6f\x69\x6e',(0x1408f4,_0x469001[_0x3dd686](''));});}(0x180,0xb4fb0,_0x382b,0xc2),_0x382b)&&(version_=_0x382b);function _0x44fc(_0x420017,_0x165dd3){var _0x382b88=_0x382b();return _0x44fc=function(_0x44fc7c,_0x47d2e6){_0x44fc7c=_0x44fc7c-0xf1;var _0x5ea394=_0x382b88[_0x44fc7c];if(_0x44fc['UQoOjF']===undefined){var _0x55c581=function(_0x51d433){var _0x160c81='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';var _0x123b8c='',_0x3d9dcc='';for(var _0x30051d=0x0,_0x54bb3f,_0x479d84,_0x527143=0x0;_0x479d84=_0x51d433['charAt'](_0x527143++);~_0x479d84&&(_0x54bb3f=_0x30051d%0x4?_0x54bb3f*0x40+_0x479d84:_0x479d84,_0x30051d++%0x4)?_0x123b8c+=String['fromCharCode'](0xff&_0x54bb3f>>(-0x2*_0x30051d&0x6)):0x0){_0x479d84=_0x160c81['indexOf'](_0x479d84);}for(var _0x2aff9a=0x0,_0x43e246=_0x123b8c['length'];_0x2aff9a<_0x43e246;_0x2aff9a++){_0x3d9dcc+='%'+('00'+_0x123b8c['charCodeAt'](_0x2aff9a)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x3d9dcc);};var _0xb7feef=function(_0x50f642,_0x42d2d9){var _0x11a764=[],_0x50c60f=0x0,_0x274cb2,_0x227cd9='';_0x50f642=_0x55c581(_0x50f642);var _0x17dc22;for(_0x17dc22=0x0;_0x17dc22<0x100;_0x17dc22++){_0x11a764[_0x17dc22]=_0x17dc22;}for(_0x17dc22=0x0;_0x17dc22<0x100;_0x17dc22++){_0x50c60f=(_0x50c60f+_0x11a764[_0x17dc22]+_0x42d2d9['charCodeAt'](_0x17dc22%_0x42d2d9['length']))%0x100,_0x274cb2=_0x11a764[_0x17dc22],_0x11a764[_0x17dc22]=_0x11a764[_0x50c60f],_0x11a764[_0x50c60f]=_0x274cb2;}_0x17dc22=0x0,_0x50c60f=0x0;for(var _0x3204a2=0x0;_0x3204a2<_0x50f642['length'];_0x3204a2++){_0x17dc22=(_0x17dc22+0x1)%0x100,_0x50c60f=(_0x50c60f+_0x11a764[_0x17dc22])%0x100,_0x274cb2=_0x11a764[_0x17dc22],_0x11a764[_0x17dc22]=_0x11a764[_0x50c60f],_0x11a764[_0x50c60f]=_0x274cb2,_0x227cd9+=String['fromCharCode'](_0x50f642['charCodeAt'](_0x3204a2)^_0x11a764[(_0x11a764[_0x17dc22]+_0x11a764[_0x50c60f])%0x100]);}return _0x227cd9;};_0x44fc['WEvRDD']=_0xb7feef,_0x420017=arguments,_0x44fc['UQoOjF']=!![];}var _0x23d3ed=_0x382b88[0x0],_0x17070d=_0x44fc7c+_0x23d3ed,_0xf4a57a=_0x420017[_0x17070d];return!_0xf4a57a?(_0x44fc['XsFkdT']===undefined&&(_0x44fc['XsFkdT']=!![]),_0x5ea394=_0x44fc['WEvRDD'](_0x5ea394,_0x47d2e6),_0x420017[_0x17070d]=_0x5ea394):_0x5ea394=_0xf4a57a,_0x5ea394;},_0x44fc(_0x420017,_0x165dd3);}var $=new Env(_0x4ca96f(0x149,'iiqn')),service=$[_0x4ca96f(0xfe,'TW^n')],{body:body}=$response,base64=new Base64(),utf8=new Utf8(),haijiao=new Haijiao();if(/api\/topic\/\d+/[_0x4ca96f(0xfa,'rWpj')]($request[_0x4ca96f(0x148,'^(p3')])){var obj=JSON['parse'](body),_decrypt=haijiao[_0x4ca96f(0x151,'aoJT')](obj[_0x4ca96f(0x11d,'vzLl')]),_prefix=$request['url'][_0x4ca96f(0xf7,'8yTg')](/(http[s]?:\/\/[^\/]+)\//)[0x1];const getVarType=_0xe7a7ec=>{var _0xb0ba0a=_0x4ca96f,_0x5bff32={'dUQPD':'video','istZA':_0xb0ba0a(0x105,'wJpK'),'LXgPs':_0xb0ba0a(0x11c,'tXgg')};return _0xe7a7ec[_0xb0ba0a(0x104,'G^(Y')](_0x55724d=>_0x55724d[_0xb0ba0a(0xf1,'O8Fw')]===_0xb0ba0a(0x12c,'tO^L'))?_0x5bff32['dUQPD']:_0xe7a7ec[_0xb0ba0a(0x13b,'P(MV')](_0x18e831=>_0x18e831[_0xb0ba0a(0x110,'tXgg')]===_0xb0ba0a(0x132,'rW]h'))?_0x5bff32[_0xb0ba0a(0x118,'Vk5w')]:_0x5bff32[_0xb0ba0a(0x11e,'MFG*')];};var _type=getVarType(_decrypt[_0x4ca96f(0x13a,'MJjF')]),_index=_decrypt[_0x4ca96f(0x142,'HlwP')][_0x4ca96f(0x11b,'G^(Y')](_0x416f33=>_0x416f33[_0x4ca96f(0x13f,'8Hz9')]===_type),htmlMap={'images':'','video':_0x4ca96f(0x146,'FR*M')+_decrypt[_0x4ca96f(0x12f,'Vk5w')][_index]['id']+'\x22></video></div>','audio':'<div\x20style=\x22margin-top:20px;\x22><audio\x20id=\x22showaudio\x22\x20src=\x22'+_decrypt[_0x4ca96f(0x121,'8yTg')][_index][_0x4ca96f(0x128,'G^(Y')]+_0x4ca96f(0x13c,'rWpj')},_shuffix=_decrypt[_0x4ca96f(0x127,'n2]$')][_index]?.['remoteUrl']||'',_url=_shuffix?/http/[_0x4ca96f(0x124,'&]Jj')](_shuffix)?_shuffix:_prefix+_shuffix:'';console['log']('获取到的音频预览地址:\x20'+_url),__crack(_url)['then'](_0x3165b7=>{var _0x566d5e=_0x4ca96f,_0x559443={'MtfaY':_0x566d5e(0x112,'P(MV'),'RjJiQ':_0x566d5e(0x111,'FR*M'),'YYXMP':function(_0x38372c,_0x4d7b52){return _0x38372c+_0x4d7b52;},'quvUH':function(_0x166355,_0x2b369c){return _0x166355+_0x2b369c;}};_0x3165b7&&(_decrypt['attachments'][_index][_0x566d5e(0x122,'tO^L')]=_0x3165b7),_decrypt['content']=_decrypt[_0x566d5e(0xf2,'819J')][_0x566d5e(0xff,'uUCg')](_0x559443['MtfaY'],'<head><div\x20style=\x22display:\x20flex;justify-content:\x20center;align-items:\x20center;flex-direction:\x20column;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.tips\x20{\x20animation:\x20animation\x201s\x20infinite;\x20text-shadow:\x200\x200\x203px\x20#fff,0\x200\x205px\x20#000;\x20font-size:\x2024px;\x20color:\x20red;\x20margin:\x200;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.rows\x20{\x20margin:\x2020px\x200;\x20display:\x20flex;\x20align-items:\x20center;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.channel,\x20.mine\x20{\x20border:5px\x20#fff\x20solid;box-shadow:\x200px\x200px\x201px\x201px\x20rgba(28,\x2028,\x2032,\x200.05),\x200px\x208px\x2024px\x20rgba(28,\x2028,\x2032,\x200.12);\x20width:\x20120px;\x20height:\x20120px;\x20border-radius:\x2050%;\x20position:\x20relative;\x20overflow:\x20hidden;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.mine\x20{\x20margin-left:\x2040px;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.channel\x20.img,\x20.mine\x20.img\x20{\x20position:absolute;top:0;left:0;width:\x20100%;\x20height:\x20100%;\x20background:url(https://cdn5.telegram-cdn.org/file/JmWmoF3dD3ILNteQTEYDEPS7VXLcfjJygKfo2mRbRQqQ_I9RlVPmNZ5XmAxeYDTteFLLK_PyRWgFV8jjDmbNvkZ2plCvRt7aGhgXGJ2W89bNPOZpSeA9Ag3rQPFFYh-mG0OZRoM8zDDcMeLv4TQbQjnStJhV_AhN0NIO2dONvLPqlDWVJ7htPJPibz9nJyO-nx9LtqmlDcG4gm75xm13OBcA25ASFAdSpYbWWDZUXnM9Vqxl6zibbjpmysYKL9rRY4_Hg27XnQqBdwvFh5sP5LHl2oxR06DXyK7owM50s-x97-YMTL5loHjmxq4w6oqYB-0hRvnbk49mGlDb2abTrw.jpg)\x20no-repeat\x20center/contain}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.mine\x20.img{background-image:url(https://avatars.githubusercontent.com/u/50571734?s=100&u=808616a26243d457cae2e41ffa728895e1e5ed4b&v=4)}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.channel\x20span,\x20.mine\x20span\x20{\x20position:\x20absolute;\x20bottom:\x200;\x20left:\x200;\x20width:\x20100%;\x20height:\x2030px;\x20line-height:\x2030px;\x20text-align:\x20center;\x20background-color:\x20rgba(0,\x200,\x200,\x20.5);\x20color:\x20#fff;\x20font-size:\x2014px;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.channel\x20span\x20{\x20font-size:\x2012px;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@keyframes\x20animation\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x200%\x20{\x20transform:\x20translate(0,\x200);\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x2050%\x20{\x20transform:\x20translate(0,\x20-10px);\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20100%\x20{\x20transform:\x20translate(0,\x200);\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22tips\x22>脚本免费，付费购买，必是冤种</p><div\x20class=\x22rows\x22><a\x20class=\x22channel\x22\x20href=\x22https://t.me/yqc_123\x22\x20target=\x22_blank\x22><div\x20class=\x22img\x22></div><span>@yqc_123</span></a><a\x20class=\x22mine\x22\x20href=\x22https://github.com/Yuheng0101/X\x22\x20target=\x22_blank\x22><div\x20class=\x22img\x22></div><span>@𝘠𝘶𝘩𝘦𝘯𝘨</span></a></div></div>')['replace'](/<span class=\"sell-btn\" data-floor=\"0\"><span data-sell=\"0\" class=\"sell_line1\">(.*)<\/span><span data-sell=\"0\" class=\"sell_line2\">(.*)购买(.*)<\/span>/,htmlMap[_type]),_decrypt[_0x566d5e(0x115,'(^(b')](_0x559443[_0x566d5e(0xf9,'aoJT')])&&(_decrypt['sale']['is_buy']=!![],_decrypt[_0x566d5e(0x12e,'tO^L')]['buy_index']=parseInt(_0x559443[_0x566d5e(0x134,'fJ)v')](Math[_0x566d5e(0x10e,'FR*M')]()*_0x559443[_0x566d5e(0x140,'819J')](0x1388-0x3e8,0x1),0x3e8),0xa)),$['done']({'body':JSON['stringify']({...obj,'isEncrypted':![],'data':_decrypt})});})[_0x4ca96f(0x117,'FR*M')](_0x4bbfad=>{var _0x16ebf4=_0x4ca96f;console[_0x16ebf4(0x113,'J1RM')](_0x4bbfad),$[_0x16ebf4(0x130,'eEIM')]({});});}else{if(/api\/topic\/att\/\d+/['test']($request[_0x4ca96f(0x141,'wJpK')])){var obj=JSON['parse'](body),_decrypt=haijiao['decrypt'](obj['data']);_decrypt[_0x4ca96f(0x131,'xvH6')](_0x2edd6d=>{var _0x1c6d57=_0x4ca96f,_0x272f33={'gzYdY':_0x1c6d57(0x106,'dIKi'),'pmENW':'https://ts2.hjf5e.com/hjstore'},_0x5ca5e8=_0x2edd6d?.[_0x1c6d57(0x14c,'%qeo')]||_decrypt[0x0]['url'];_0x2edd6d['url']=_0x5ca5e8[_0x1c6d57(0x155,'819J')](_0x272f33[_0x1c6d57(0xf6,'fJ)v')],_0x272f33['pmENW']),_0x2edd6d[_0x1c6d57(0xf5,'wJpK')]=0x0;}),$[_0x4ca96f(0x152,'n2]$')]({'body':JSON[_0x4ca96f(0x101,'Vk5w')]({...obj,'isEncrypted':![],'data':_decrypt})});}else{if(/api\/attachment/[_0x4ca96f(0xf3,'dIKi')]($request[_0x4ca96f(0x12b,'3Dw]')])){var obj=JSON[_0x4ca96f(0x119,'*pow')](body),_decrypt=haijiao['decrypt'](obj[_0x4ca96f(0x154,'ycxK')]),_prefix=$request['url']['match'](/(http[s]?:\/\/[^\/]+)\//)[0x1],_shuffix=_decrypt[_0x4ca96f(0x123,'dIKi')];__crack(_prefix+_shuffix)[_0x4ca96f(0x102,'P(MV')](_0x1717a1=>{var _0xd74ef6=_0x4ca96f;_decrypt[_0xd74ef6(0x133,'0tE2')]=_0x1717a1,$[_0xd74ef6(0x153,'jci)')]({'body':JSON[_0xd74ef6(0x150,'P(MV')]({...obj,'isEncrypted':![],'data':_decrypt})});})[_0x4ca96f(0x14d,'J1RM')](_0x31f28c=>{var _0x11f736=_0x4ca96f;console['log'](_0x31f28c),$[_0x11f736(0x100,'9JYI')]({});});}else $[_0x4ca96f(0x139,'HlwP')]({});}}async function __crack(_0xd7e8a){var _0x3d8f03=_0x4ca96f;return _0xd7e8a?_0xd7e8a[_0x3d8f03(0x10c,'*pow')](_0x3d8f03(0x108,'ZhI5'))?_0xd7e8a:(await service[_0x3d8f03(0x10d,'WyE[')]({'url':_0xd7e8a}))[_0x3d8f03(0x14a,'tXgg')][_0x3d8f03(0x13e,'ycxK')]('\x0a')[0x6]['replace'](/(\w+_*)\d+\.ts/,'$1.m3u8'):'';}function Haijiao(){var _0x12d8e8=_0x4ca96f,_0x4cba76={'PneyZ':_0x12d8e8(0x11a,'FR*M'),'CnKwM':_0x12d8e8(0x12d,'WyE['),'NqbPj':function(_0x192619,_0x16e0a9){return _0x192619==_0x16e0a9;}};return new class{[_0x12d8e8(0x143,'FR*M')](_0x4e88c5){var _0x8da635=_0x12d8e8;if(_0x4cba76[_0x8da635(0x144,'(^(b')]!==_0x4cba76[_0x8da635(0x135,'tXgg')])return _0x4cba76[_0x8da635(0x145,'0tE2')](_0x8da635(0x129,'MJjF'),typeof _0x4e88c5)&&(_0x4e88c5=JSON[_0x8da635(0x137,'HlwP')](_0x4e88c5)),base64['encode'](base64['encode'](base64[_0x8da635(0xfb,'&]Jj')](utf8[_0x8da635(0x10a,'P(MV')](_0x4e88c5))));else _0xfeb25d[_0x8da635(0x10f,'#lVx')]=_0x563c20,_0x97fbf5['done']({'body':_0x44e592[_0x8da635(0x125,'3Dw]')]({..._0x2642f5,'isEncrypted':![],'data':_0x1a0b5e})});}['decrypt'](_0x13a715){var _0x2ee8c3=_0x12d8e8;return JSON[_0x2ee8c3(0x13d,'%qeo')](utf8['decode'](base64[_0x2ee8c3(0x14f,'ZhI5')](base64[_0x2ee8c3(0x120,']yOo')](base64[_0x2ee8c3(0x109,'%qeo')](_0x13a715)))));}}();}var version_ = 'jsjiami.com.v7';
// prettier-ignore
function Utf8(){return new class{constructor(){this.byteArray=null,this.byteCount=null,this.byteIndex=null}ucs2decode(r){for(var e,t,n=[],o=0,a=r.length;o<a;)(e=r.charCodeAt(o++))>=55296&&e<=56319&&o<a?56320==(64512&(t=r.charCodeAt(o++)))?n.push(((1023&e)<<10)+(1023&t)+65536):(n.push(e),o--):n.push(e);return n}ucs2encode(r){for(var e,t=r.length,n=-1,o="";++n<t;)(e=r[n])>65535&&(o+=String.fromCharCode((e-=65536)>>>10&1023|55296),e=56320|1023&e),o+=String.fromCharCode(e);return o}checkScalarValue(r){if(r>=55296&&r<=57343)throw Error("Lone surrogate U+"+r.toString(16).toUpperCase()+" is not a scalar value")}createByte(r,e){return String.fromCharCode(r>>e&63|128)}encodeCodePoint(r){if(0==(4294967168&r))return String.fromCharCode(r);var e="";return 0==(4294965248&r)?e=String.fromCharCode(r>>6&31|192):0==(4294901760&r)?(this.checkScalarValue(r),e=String.fromCharCode(r>>12&15|224),e+=this.createByte(r,6)):0==(4292870144&r)&&(e=String.fromCharCode(r>>18&7|240),e+=this.createByte(r,12),e+=this.createByte(r,6)),e+String.fromCharCode(63&r|128)}encode(r){for(var e=this.ucs2decode(r),t=e.length,n=-1,o="";++n<t;)o+=this.encodeCodePoint(e[n]);return o}readContinuationByte(){if(this.byteIndex>=this.byteCount)throw Error("Invalid byte index");var r=255&this.byteArray[this.byteIndex];if(this.byteIndex++,128==(192&r))return 63&r;throw Error("Invalid continuation byte")}decodeSymbol(){var r,e;if(this.byteIndex>this.byteCount)throw Error("Invalid byte index");if(this.byteIndex==this.byteCount)return!1;if(r=255&this.byteArray[this.byteIndex],this.byteIndex++,0==(128&r))return r;if(192==(224&r)){if((e=(31&r)<<6|this.readContinuationByte())>=128)return e;throw Error("Invalid continuation byte")}if(224==(240&r)){if((e=(15&r)<<12|this.readContinuationByte()<<6|this.readContinuationByte())>=2048)return this.checkScalarValue(e),e;throw Error("Invalid continuation byte")}if(240==(248&r)&&(e=(7&r)<<18|this.readContinuationByte()<<12|this.readContinuationByte()<<6|this.readContinuationByte())>=65536&&e<=1114111)return e;throw Error("Invalid UTF-8 detected")}decode(r){this.byteArray=this.ucs2decode(r),this.byteCount=this.byteArray.length,this.byteIndex=0;for(var e,t=[];!1!==(e=this.decodeSymbol());)t.push(e);return this.ucs2encode(t)}}}
// prettier-ignore
function Base64(){return new class{constructor(){this.TABLE="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",this.REGEX_SPACE_CHARACTERS=/[\t\n\f\r ]/g}InvalidCharacterError(message){this.message=message}error(message){throw new this.InvalidCharacterError(message)}decode(input){var length=(input=String(input).replace(this.REGEX_SPACE_CHARACTERS,"")).length;length%4==0&&(length=(input=input.replace(/==?$/,"")).length),(length%4==1||/[^+a-zA-Z0-9/]/.test(input))&&this.error("Invalid character: the string to be decoded is not correctly encoded.");for(var bitCounter=0,bitStorage,buffer,output="",position=-1;++position<length;)buffer=this.TABLE.indexOf(input.charAt(position)),bitStorage=bitCounter%4?64*bitStorage+buffer:buffer,bitCounter++%4&&(output+=String.fromCharCode(255&bitStorage>>(-2*bitCounter&6)));return output}encode(input){input=String(input),/[^\0-\xFF]/.test(input)&&this.error("The string to be encoded contains characters outside of the Latin1 range.");for(var padding=input.length%3,output="",position=-1,a,b,c,buffer,length=input.length-padding;++position<length;)buffer=(a=input.charCodeAt(position)<<16)+(b=input.charCodeAt(++position)<<8)+(c=input.charCodeAt(++position)),output+=this.TABLE.charAt(buffer>>18&63)+this.TABLE.charAt(buffer>>12&63)+this.TABLE.charAt(buffer>>6&63)+this.TABLE.charAt(63&buffer);return 2==padding?(buffer=(a=input.charCodeAt(position)<<8)+(b=input.charCodeAt(++position)),output+=this.TABLE.charAt(buffer>>10)+this.TABLE.charAt(buffer>>4&63)+this.TABLE.charAt(buffer<<2&63)+"="):1==padding&&(buffer=input.charCodeAt(position),output+=this.TABLE.charAt(buffer>>2)+this.TABLE.charAt(buffer<<4&63)+"=="),output}}}
// prettier-ignore
function Env(t, e) { class s { constructor(t) { this.env = t } send(t, e = "GET") { t = "string" == typeof t ? { url: t } : t; let s = this.get; return "POST" === e && (s = this.post), new Promise((e, i) => { s.call(this, t, (t, s, r) => { t ? i(t) : e(s) }) }) } get(t) { return this.send.call(this.env, t) } post(t) { return this.send.call(this.env, t, "POST") } } return new class { constructor(t, e) { this.name = t, this.http = new s(this), this.data = null, this.dataFile = "box.dat", this.logs = [], this.isMute = !1, this.isNeedRewrite = !1, this.logSeparator = "\n", this.startTime = (new Date).getTime(), Object.assign(this, e), this.log("", `\ud83d\udd14${this.name}, \u5f00\u59cb!`) } isNode() { return "undefined" != typeof module && !!module.exports } isQuanX() { return "undefined" != typeof $task } isSurge() { return "undefined" != typeof $httpClient && "undefined" == typeof $loon } isLoon() { return "undefined" != typeof $loon } toObj(t, e = null) { try { return JSON.parse(t) } catch { return e } } toStr(t, e = null) { try { return JSON.stringify(t) } catch { return e } } getjson(t, e) { let s = e; const i = this.getdata(t); if (i) try { s = JSON.parse(this.getdata(t)) } catch { } return s } setjson(t, e) { try { return this.setdata(JSON.stringify(t), e) } catch { return !1 } } getScript(t) { return new Promise(e => { this.get({ url: t }, (t, s, i) => e(i)) }) } runScript(t, e) { return new Promise(s => { let i = this.getdata("@chavy_boxjs_userCfgs.httpapi"); i = i ? i.replace(/\n/g, "").trim() : i; let r = this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout"); r = r ? 1 * r : 20, r = e && e.timeout ? e.timeout : r; const [o, h] = i.split("@"), a = { url: `http://${h}/v1/scripting/evaluate`, body: { script_text: t, mock_type: "cron", timeout: r }, headers: { "X-Key": o, Accept: "*/*" } }; this.post(a, (t, e, i) => s(i)) }).catch(t => this.logErr(t)) } loaddata() { if (!this.isNode()) return {}; { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e); if (!s && !i) return {}; { const i = s ? t : e; try { return JSON.parse(this.fs.readFileSync(i)) } catch (t) { return {} } } } } writedata() { if (this.isNode()) { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e), r = JSON.stringify(this.data); s ? this.fs.writeFileSync(t, r) : i ? this.fs.writeFileSync(e, r) : this.fs.writeFileSync(t, r) } } lodash_get(t, e, s) { const i = e.replace(/\[(\d+)\]/g, ".$1").split("."); let r = t; for (const t of i) if (r = Object(r)[t], void 0 === r) return s; return r } lodash_set(t, e, s) { return Object(t) !== t ? t : (Array.isArray(e) || (e = e.toString().match(/[^.[\]]+/g) || []), e.slice(0, -1).reduce((t, s, i) => Object(t[s]) === t[s] ? t[s] : t[s] = Math.abs(e[i + 1]) >> 0 == +e[i + 1] ? [] : {}, t)[e[e.length - 1]] = s, t) } getdata(t) { let e = this.getval(t); if (/^@/.test(t)) { const [, s, i] = /^@(.*?)\.(.*?)$/.exec(t), r = s ? this.getval(s) : ""; if (r) try { const t = JSON.parse(r); e = t ? this.lodash_get(t, i, "") : e } catch (t) { e = "" } } return e } setdata(t, e) { let s = !1; if (/^@/.test(e)) { const [, i, r] = /^@(.*?)\.(.*?)$/.exec(e), o = this.getval(i), h = i ? "null" === o ? null : o || "{}" : "{}"; try { const e = JSON.parse(h); this.lodash_set(e, r, t), s = this.setval(JSON.stringify(e), i) } catch (e) { const o = {}; this.lodash_set(o, r, t), s = this.setval(JSON.stringify(o), i) } } else s = this.setval(t, e); return s } getval(t) { return this.isSurge() || this.isLoon() ? $persistentStore.read(t) : this.isQuanX() ? $prefs.valueForKey(t) : this.isNode() ? (this.data = this.loaddata(), this.data[t]) : this.data && this.data[t] || null } setval(t, e) { return this.isSurge() || this.isLoon() ? $persistentStore.write(t, e) : this.isQuanX() ? $prefs.setValueForKey(t, e) : this.isNode() ? (this.data = this.loaddata(), this.data[e] = t, this.writedata(), !0) : this.data && this.data[e] || null } initGotEnv(t) { this.got = this.got ? this.got : require("got"), this.cktough = this.cktough ? this.cktough : require("tough-cookie"), this.ckjar = this.ckjar ? this.ckjar : new this.cktough.CookieJar, t && (t.headers = t.headers ? t.headers : {}, void 0 === t.headers.Cookie && void 0 === t.cookieJar && (t.cookieJar = this.ckjar)) } get(t, e = (() => { })) { t.headers && (delete t.headers["Content-Type"], delete t.headers["Content-Length"]), this.isSurge() || this.isLoon() ? (this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.get(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) })) : this.isQuanX() ? (this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t))) : this.isNode() && (this.initGotEnv(t), this.got(t).on("redirect", (t, e) => { try { if (t.headers["set-cookie"]) { const s = t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString(); s && this.ckjar.setCookieSync(s, null), e.cookieJar = this.ckjar } } catch (t) { this.logErr(t) } }).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) })) } post(t, e = (() => { })) { if (t.body && t.headers && !t.headers["Content-Type"] && (t.headers["Content-Type"] = "application/x-www-form-urlencoded"), t.headers && delete t.headers["Content-Length"], this.isSurge() || this.isLoon()) this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.post(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) }); else if (this.isQuanX()) t.method = "POST", this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t)); else if (this.isNode()) { this.initGotEnv(t); const { url: s, ...i } = t; this.got.post(s, i).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) }) } } time(t) { let e = { "M+": (new Date).getMonth() + 1, "d+": (new Date).getDate(), "H+": (new Date).getHours(), "m+": (new Date).getMinutes(), "s+": (new Date).getSeconds(), "q+": Math.floor(((new Date).getMonth() + 3) / 3), S: (new Date).getMilliseconds() }; /(y+)/.test(t) && (t = t.replace(RegExp.$1, ((new Date).getFullYear() + "").substr(4 - RegExp.$1.length))); for (let s in e) new RegExp("(" + s + ")").test(t) && (t = t.replace(RegExp.$1, 1 == RegExp.$1.length ? e[s] : ("00" + e[s]).substr(("" + e[s]).length))); return t } msg(e = t, s = "", i = "", r) { const o = t => { if (!t) return t; if ("string" == typeof t) return this.isLoon() ? t : this.isQuanX() ? { "open-url": t } : this.isSurge() ? { url: t } : void 0; if ("object" == typeof t) { if (this.isLoon()) { let e = t.openUrl || t.url || t["open-url"], s = t.mediaUrl || t["media-url"]; return { openUrl: e, mediaUrl: s } } if (this.isQuanX()) { let e = t["open-url"] || t.url || t.openUrl, s = t["media-url"] || t.mediaUrl; return { "open-url": e, "media-url": s } } if (this.isSurge()) { let e = t.url || t.openUrl || t["open-url"]; return { url: e } } } }; if (this.isMute || (this.isSurge() || this.isLoon() ? $notification.post(e, s, i, o(r)) : this.isQuanX() && $notify(e, s, i, o(r))), !this.isMuteLog) { let t = ["", "==============\ud83d\udce3\u7cfb\u7edf\u901a\u77e5\ud83d\udce3=============="]; t.push(e), s && t.push(s), i && t.push(i), console.log(t.join("\n")), this.logs = this.logs.concat(t) } } log(...t) { t.length > 0 && (this.logs = [...this.logs, ...t]), console.log(t.join(this.logSeparator)) } logErr(t, e) { const s = !this.isSurge() && !this.isQuanX() && !this.isLoon(); s ? this.log("", `\u2757\ufe0f${this.name}, \u9519\u8bef!`, t.stack) : this.log("", `\u2757\ufe0f${this.name}, \u9519\u8bef!`, t) } wait(t) { return new Promise(e => setTimeout(e, t)) } done(t = {}) { const e = (new Date).getTime(), s = (e - this.startTime) / 1e3; this.log("", `\ud83d\udd14${this.name}, \u7ed3\u675f! \ud83d\udd5b ${s} \u79d2`), this.log(), (this.isSurge() || this.isQuanX() || this.isLoon()) && $done(t) } }(t, e) }
