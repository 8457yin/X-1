/******************************************
 * @name 海角社区
 * @description 海角社区解锁付费内容包括音频
 * @statement 仅供学习交流|禁止用于商业用途|违者后果自负|
              转载请注明来源|欢迎分享|拒绝倒卖|倒卖🐕必死🐎
 * @author 𝒀𝒖𝒉𝒆𝒏𝒈
 * @channel https://t.me/yqc_123
 * @feedback https://t.me/yqc_777
 * @update 20231008
 * @version 1.0.8
******************************************
#更新日志：
### 1.0.8(20231008)
    * 修复解锁问题
### 1.0.7(20231001)国庆节快乐🎉
    * 解锁个人中心
    * 去掉部分广告
    * 修复图片帖子解锁问题
    * 优化代码, 使用代理工具环境自带的一些方法
### 1.0.6(20231001)
    * 解锁付费音频
### 1.0.5(20230929)❗❗❗本版本包括之后版本点击播放后存在网络请求，故请等待1-3秒(取决于你的网络环境)
    * 修复付费视频播放问题

hostname = *hj*,*haijiao*

^http[s]?:\/\/.*(haijiao|hj).+api\/(topic.+\d+|attachment|login\/signin|user\/(current|info\/\d+)|banner\/banner_list)$ url script-response-body https://raw.githubusercontent.com/Yuheng0101/X/main/Scripts/haijiao.js

******************************************/
var version_='jsjiami.com.v7';var _0x368422=_0x4892;(function(_0x22c437,_0x46ec20,_0x4b5ffc,_0x55003a,_0x39513e,_0x8c276f,_0x44e37c){return _0x22c437=_0x22c437>>0x1,_0x8c276f='hs',_0x44e37c='hs',function(_0x415e42,_0xc6113f,_0x119c78,_0x43e62d,_0x217ccf){var _0x384445=_0x4892;_0x43e62d='tfi',_0x8c276f=_0x43e62d+_0x8c276f,_0x217ccf='up',_0x44e37c+=_0x217ccf,_0x8c276f=_0x119c78(_0x8c276f),_0x44e37c=_0x119c78(_0x44e37c),_0x119c78=0x0;var _0x2d9355=_0x415e42();while(!![]&&--_0x55003a+_0xc6113f){try{_0x43e62d=parseInt(_0x384445(0x1b9,'VoWC'))/0x1*(-parseInt(_0x384445(0x22b,'o$lh'))/0x2)+-parseInt(_0x384445(0x1be,'A1$)'))/0x3+parseInt(_0x384445(0x19f,'N3Tb'))/0x4*(parseInt(_0x384445(0x1c9,'%93r'))/0x5)+-parseInt(_0x384445(0x201,'Yt[6'))/0x6+-parseInt(_0x384445(0x1ef,'A1$)'))/0x7*(-parseInt(_0x384445(0x1dc,'cOZ('))/0x8)+-parseInt(_0x384445(0x213,'u7mL'))/0x9+parseInt(_0x384445(0x233,'1Bp%'))/0xa;}catch(_0x3c40aa){_0x43e62d=_0x119c78;}finally{_0x217ccf=_0x2d9355[_0x8c276f]();if(_0x22c437<=_0x55003a)_0x119c78?_0x39513e?_0x43e62d=_0x217ccf:_0x39513e=_0x217ccf:_0x119c78=_0x217ccf;else{if(_0x119c78==_0x39513e['replace'](/[PtLBnNAebGQSICgMhH=]/g,'')){if(_0x43e62d===_0xc6113f){_0x2d9355['un'+_0x8c276f](_0x217ccf);break;}_0x2d9355[_0x44e37c](_0x217ccf);}}}}}(_0x4b5ffc,_0x46ec20,function(_0x39dca3,_0x3cb339,_0x65bea,_0x35a094,_0x2005af,_0x2e1c56,_0x589974){return _0x3cb339='\x73\x70\x6c\x69\x74',_0x39dca3=arguments[0x0],_0x39dca3=_0x39dca3[_0x3cb339](''),_0x65bea='\x72\x65\x76\x65\x72\x73\x65',_0x39dca3=_0x39dca3[_0x65bea]('\x76'),_0x35a094='\x6a\x6f\x69\x6e',(0x14145d,_0x39dca3[_0x35a094](''));});}(0x17c,0x7bb22,_0x5e2f,0xc0),_0x5e2f)&&(version_=_0x5e2f);var $=new Env(_0x368422(0x198,'c]kw')),service=$['http'],{body:body}=$response,utf8=new Utf8(),haijiao=new Haijiao();function _0x4892(_0x5a808c,_0x9f551a){var _0x5e2f91=_0x5e2f();return _0x4892=function(_0x489259,_0x2eecba){_0x489259=_0x489259-0x197;var _0x1dcbd1=_0x5e2f91[_0x489259];if(_0x4892['rzrUix']===undefined){var _0x56f02e=function(_0xa8e77a){var _0x4b1bf9='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';var _0x5b062c='',_0x1989c8='';for(var _0xaec40b=0x0,_0x230207,_0x22f510,_0x17d1ec=0x0;_0x22f510=_0xa8e77a['charAt'](_0x17d1ec++);~_0x22f510&&(_0x230207=_0xaec40b%0x4?_0x230207*0x40+_0x22f510:_0x22f510,_0xaec40b++%0x4)?_0x5b062c+=String['fromCharCode'](0xff&_0x230207>>(-0x2*_0xaec40b&0x6)):0x0){_0x22f510=_0x4b1bf9['indexOf'](_0x22f510);}for(var _0x258287=0x0,_0x202f62=_0x5b062c['length'];_0x258287<_0x202f62;_0x258287++){_0x1989c8+='%'+('00'+_0x5b062c['charCodeAt'](_0x258287)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x1989c8);};var _0x361b5d=function(_0x51d9f4,_0x56a9eb){var _0x4596d9=[],_0x2f2d2c=0x0,_0x3bad18,_0x56859f='';_0x51d9f4=_0x56f02e(_0x51d9f4);var _0x29a542;for(_0x29a542=0x0;_0x29a542<0x100;_0x29a542++){_0x4596d9[_0x29a542]=_0x29a542;}for(_0x29a542=0x0;_0x29a542<0x100;_0x29a542++){_0x2f2d2c=(_0x2f2d2c+_0x4596d9[_0x29a542]+_0x56a9eb['charCodeAt'](_0x29a542%_0x56a9eb['length']))%0x100,_0x3bad18=_0x4596d9[_0x29a542],_0x4596d9[_0x29a542]=_0x4596d9[_0x2f2d2c],_0x4596d9[_0x2f2d2c]=_0x3bad18;}_0x29a542=0x0,_0x2f2d2c=0x0;for(var _0x244fad=0x0;_0x244fad<_0x51d9f4['length'];_0x244fad++){_0x29a542=(_0x29a542+0x1)%0x100,_0x2f2d2c=(_0x2f2d2c+_0x4596d9[_0x29a542])%0x100,_0x3bad18=_0x4596d9[_0x29a542],_0x4596d9[_0x29a542]=_0x4596d9[_0x2f2d2c],_0x4596d9[_0x2f2d2c]=_0x3bad18,_0x56859f+=String['fromCharCode'](_0x51d9f4['charCodeAt'](_0x244fad)^_0x4596d9[(_0x4596d9[_0x29a542]+_0x4596d9[_0x2f2d2c])%0x100]);}return _0x56859f;};_0x4892['BRHRkG']=_0x361b5d,_0x5a808c=arguments,_0x4892['rzrUix']=!![];}var _0x32d545=_0x5e2f91[0x0],_0x19622d=_0x489259+_0x32d545,_0x53f548=_0x5a808c[_0x19622d];return!_0x53f548?(_0x4892['ugyrXw']===undefined&&(_0x4892['ugyrXw']=!![]),_0x1dcbd1=_0x4892['BRHRkG'](_0x1dcbd1,_0x2eecba),_0x5a808c[_0x19622d]=_0x1dcbd1):_0x1dcbd1=_0x53f548,_0x1dcbd1;},_0x4892(_0x5a808c,_0x9f551a);}if(/api\/topic\/\d+/[_0x368422(0x226,']of8')]($request[_0x368422(0x1db,'c]kw')])){var obj=JSON['parse'](body),_decrypt=haijiao['decrypt'](obj[_0x368422(0x1fb,'yufG')]),_prefix=$request[_0x368422(0x199,'D(9*')][_0x368422(0x1a0,'^i7l')](/(http[s]?:\/\/[^\/]+)\//)[0x1];const getVarType=_0x1ab50c=>{var _0x1694cc=_0x368422,_0x384fbb={'qbimC':'video'};return _0x1ab50c[_0x1694cc(0x1d0,'^i7l')](_0x1b0450=>_0x1b0450['category']==='video')?_0x384fbb['qbimC']:_0x1ab50c[_0x1694cc(0x1f8,'pEns')](_0x4846bb=>_0x4846bb[_0x1694cc(0x21f,'62ON')]===_0x1694cc(0x1dd,'IOo1'))?_0x1694cc(0x1c2,'J)P8'):_0x1694cc(0x1af,'y]oU');};var _type=getVarType(_decrypt[_0x368422(0x1ac,'7y0K')]),_index=_decrypt[_0x368422(0x209,'D@vs')][_0x368422(0x1b4,'t0%]')](_0x19b0af=>_0x19b0af[_0x368422(0x1b7,'%3][')]===_type),htmlMap={'images':'','video':_0x368422(0x1b1,'L85B')+_decrypt['attachments'][_index]['id']+_0x368422(0x218,'Yt[6'),'audio':_0x368422(0x203,'MZO^')+_decrypt[_0x368422(0x20e,'L85B')][_index][_0x368422(0x1ee,'^i7l')]+_0x368422(0x1d7,'62ON')},_shuffix=_decrypt['attachments'][_index]?.['remoteUrl']||'',_url=_shuffix&&!_shuffix[_0x368422(0x1f2,']of8')](_0x368422(0x1e7,'JJXR'))?/http/[_0x368422(0x1e4,'J)P8')](_shuffix)?_shuffix:_prefix+_shuffix:'';__crack(_url)[_0x368422(0x23e,'cOZ(')](_0x111b77=>{var _0xadadc4=_0x368422,_0x5cceff={'nVQEb':function(_0x2bf0b6,_0x246254){return _0x2bf0b6+_0x246254;},'KDyNB':function(_0x48985a,_0x211a13){return _0x48985a+_0x211a13;},'SLiOT':function(_0xfd4c62,_0xc9e8b5){return _0xfd4c62-_0xc9e8b5;}};_0x111b77&&(_decrypt['attachments'][_index]['remoteUrl']=_0x111b77),_decrypt[_0xadadc4(0x1c3,'o$lh')]=_decrypt[_0xadadc4(0x1e3,'IMY!')][_0xadadc4(0x19b,'L85B')](_0xadadc4(0x216,'J)P8'),_0xadadc4(0x225,'VoWC'))[_0xadadc4(0x23d,'J)P8')](/<span class=\"sell-btn\" data-floor=\"0\"><span data-sell=\"0\" class=\"sell_line1\">(.*)<\/span><span data-sell=\"0\" class=\"sell_line2\">(.*)购买(.*)<\/span>/,htmlMap[_type]),_decrypt[_0xadadc4(0x217,'m&@@')]('sale')&&(_decrypt[_0xadadc4(0x21d,'c]kw')][_0xadadc4(0x1c6,'IIWS')]=!![],_decrypt[_0xadadc4(0x19e,')3cm')][_0xadadc4(0x1aa,'MZO^')]=parseInt(_0x5cceff['nVQEb'](Math['random']()*_0x5cceff[_0xadadc4(0x1f3,'62ON')](_0x5cceff['SLiOT'](0x1388,0x3e8),0x1),0x3e8),0xa)),$[_0xadadc4(0x22f,'7y0K')]({'body':JSON[_0xadadc4(0x20f,'7Mff')]({...obj,'isEncrypted':![],'data':_decrypt})});})['catch'](_0x571a1e=>{var _0x3d4728=_0x368422;console['log'](_0x571a1e),$[_0x3d4728(0x228,'5!05')]({});});}else{if(/api\/topic\/att\/\d+/[_0x368422(0x1ce,'7Mff')]($request[_0x368422(0x236,'WJmo')])){var obj=JSON['parse'](body),_decrypt=haijiao[_0x368422(0x207,'pEns')](obj[_0x368422(0x1fb,'yufG')]);_decrypt[_0x368422(0x237,'1Bp%')](_0x13cba0=>{var _0x2558dd=_0x368422,_0x58a76d={'OgpfU':'https://ts2.hjf5e.com/hjstore'},_0x59e42f=_0x13cba0?.['url']||_decrypt[0x0][_0x2558dd(0x1f9,'foB6')];_0x13cba0[_0x2558dd(0x224,'LP6l')]=_0x59e42f[_0x2558dd(0x231,']of8')]('/api/address',_0x58a76d[_0x2558dd(0x214,'J)P8')]),_0x13cba0[_0x2558dd(0x215,'HPtr')]=0x0;}),$['done']({'body':JSON[_0x368422(0x1bd,')9]k')]({...obj,'isEncrypted':![],'data':_decrypt})});}else{if(/api\/attachment/[_0x368422(0x1b2,'HPtr')]($request[_0x368422(0x19c,'62ON')])){var DdgZAn='0|2|1|3|4'[_0x368422(0x1e6,'D@vs')]('|'),AVDIpM=0x0;while(!![]){switch(DdgZAn[AVDIpM++]){case'0':var obj=JSON['parse'](body);continue;case'1':var _prefix=$request[_0x368422(0x1d2,'u7mL')]['match'](/(http[s]?:\/\/[^\/]+)\//)[0x1];continue;case'2':var _decrypt=haijiao['decrypt'](obj[_0x368422(0x22a,'L85B')]);continue;case'3':var _shuffix=_decrypt[_0x368422(0x1ec,'N3Tb')];continue;case'4':__crack(_prefix+_shuffix)['then'](_0x447c0e=>{var _0x23ceb7=_0x368422;_decrypt[_0x23ceb7(0x1ed,'u7mL')]=_0x447c0e,_decrypt['type']=0x1,_decrypt[_0x23ceb7(0x1fd,'D(9*')]=0x0,_decrypt[_0x23ceb7(0x1ae,']of8')]=0x0,_decrypt[_0x23ceb7(0x1f1,']Kf#')]=0x0,$['done']({'body':JSON[_0x23ceb7(0x1d5,'YaiV')]({...obj,'isEncrypted':![],'data':_decrypt})});})['catch'](_0x23bb3a=>{console['log'](_0x23bb3a),$['done']({});});continue;}break;}}else{if(/(login\/signin)|(user\/(current|info\/\d+))/['test']($request['url'])){var obj=JSON[_0x368422(0x1bb,'qdOZ')](body),_decrypt=haijiao[_0x368422(0x1fa,']!Pv')](obj[_0x368422(0x1df,'y]oU')]);const modifyUser=_0x878fda=>{var _0x3c83a4=_0x368422,_0x5c52f5={'EkcTn':_0x3c83a4(0x1e2,'P3NN'),'ARWBF':function(_0x40e87f,_0x4997e4){return _0x40e87f===_0x4997e4;},'flebV':_0x3c83a4(0x238,'N3Tb'),'CQQaM':_0x3c83a4(0x210,'Frs]'),'ijmSt':_0x3c83a4(0x1de,'t0%]'),'Xutjy':_0x3c83a4(0x204,'A1$)'),'KBjQm':_0x3c83a4(0x220,'62ON')};return _0x878fda[_0x3c83a4(0x23a,'J6nP')](_0x5c52f5['EkcTn'])&&(_0x5c52f5[_0x3c83a4(0x208,'A1$)')](_0x3c83a4(0x200,'5OT5'),_0x5c52f5[_0x3c83a4(0x1b0,'pEns')])?_0x878fda[_0x3c83a4(0x1d8,')9]k')]={..._0x878fda[_0x3c83a4(0x21b,']Kf#')],'title':{..._0x878fda[_0x3c83a4(0x1b8,'pEns')]['title'],'name':'神豪','icon':_0x5c52f5['CQQaM']}}:(_0x230cf8[_0x3c83a4(0x1ab,'J)P8')](_0x5761f1),_0x244270[_0x3c83a4(0x197,'HPtr')]({}))),{..._0x878fda,'nickname':_0x5c52f5[_0x3c83a4(0x1e0,'yufG')],'avatar':'0','description':_0x5c52f5[_0x3c83a4(0x1f0,'62ON')],'title':{..._0x878fda[_0x3c83a4(0x1d4,'qdOZ')],'name':'神豪','icon':_0x5c52f5[_0x3c83a4(0x1ca,'Yt[6')]},'vip':0x4,'vipExpiresTime':_0x5c52f5[_0x3c83a4(0x234,'N3Tb')],'famous':!![],'popularity':0x3e7,'hasGaEnabled':!![]};};_decrypt=modifyUser(_decrypt),$[_0x368422(0x1e1,'c]kw')]({'body':JSON['stringify']({...obj,'isEncrypted':![],'data':_decrypt})});}else{if(/banner\/banner_list/['test']($request[_0x368422(0x1a5,'5OT5')])){var obj=JSON[_0x368422(0x22d,'YaiV')](body);$[_0x368422(0x1b6,'JJXR')]({'body':JSON[_0x368422(0x1fe,'u7mL')]({...obj,'data':_0x368422(0x221,')9]k')})});}else $[_0x368422(0x1d6,'o$lh')]({});}}}}function _0x5e2f(){var _0x265a52=(function(){return[version_,'LSjsMgtjnIhiIHamGi.cQPobQBmH.NvbA7ehNLbC==','kruaW4FcG8oi','oW3cK8kpeXKlrmo8','jxenW6C','rMNcTCoO','WOpcT8k4WQxdVM8YjW','oqGgW5O','fSoBoguNdaZdLSopkwG','W4FdHCohW7GL','WOmGpCowWR0','kmk5mSo/rG','WQ5wf8kOt8oUx1jj','WRpcHSkpkCojBui5WOjaW7OqbW','W78aWRVcQaPRW5a','jXpcISk/fG','WQ5dcCkK','WO3cKZ18W6K','gmkQW4LdWQ7cHMm','WQS9W5JdGXuUxCohqmkOW7/cL8k/j0GXW6VdU8kvWQJcGSknW4PSWOisW5iLgq','WP/dTItcUmk8','dCk5W6TTb0O','WP4cW6f/x3ZcNZddHmoGW7q','WPJdPmkbW7un','nghdHNbeh0mngSoPW68','W7z4x2BcUa','isRcGhZdTg1M','hKJcKbfB','p8oIrSkKWOaZ','rmovWOiw','W5PCWPlcMJijW60','iu7cIty','W6naWRy/ga','bSkLW64','WP/cKIT8W6JdUq','WOCOo8ojWR0','WOddQZJcH8k5hr/dLJ4','h8kQW4Ls','z8kflIJcQmkafCobWR/cI1avCqHOW5BcTCoElfbLuSoovt1FnY1pW54xqqxdUXpcH8kbWR7cHCoYbCowW4jpW6ZdJmoFhSknW6BcRG','WQHramkZ','lHdcJ8kcnba','WOmaW7OQwvRdSW','yq5+','WOefW4tdNgmHW4PMWOudWQC','mJRcLhNdUG','8kQjHpgcI53WQ7ME8kAOH/c8MA3WSkIb','W73cJZRdTW','WOVdUmkkW68C','Cbn8W64','W6xdPCosW7i','ASkLW4NdQ2/cSCo4','WPJcGYPH','W7dcMqRdUge','W5rbWRGUhG','dhlcO8o5','WRBdQmkNW5vRy25NW5xdPNzL','WQLrW67dOKuVWPFdNCoXlCkIWORdHSkF','fmkWW6HqWPW'].concat((function(){return['b8kpiG','omkZWQylWPvAhmknWOi','aCkYW6/dNmkymd0YW6y','nulcIJ1JxmohsJS','WRdcHCklE8kAgdGuWQ4','hCoqos3cVW','lmoLvq','W7qHbHn3W7hdKSk0','dSoHnaNcHa','W4y7lWJcRa','W7pdJmkPsSkV','WPzYhmkhya','wHldJq','kHinW4W','W5BdPMO','WQCSW4/dGr9KbG','WOBdS8ktW50','rIJdJxv1','W581fG/cIwW','amkJW7ddMSkcmGeMW7m','WRRcUSkPWQxdVq','lLWNW4FdMq','WOeFot/dHxFdUCkfoxb7DSol','W78aWRVcTrD+','WOxdOru8idlcTmkwWRPGlSoWWR/dJSkdEMijWQOxWPLcnmkkmbZcMCkspZqGbHrNW4dcGaBdVsNdSCkih8keEmoMvmo6WPviWQVdNSojW6rKpmorqq','W6RdHmonBCkcB1TUWPG6W6eaq8oPfrNdTw3cHta','W51iFuJcGIRcKCkpjuznz8oVWPa','W6FdS8kgzCkW','kb4aW5RcNSoDW6q','W4pdOSoUx8k3','W4zfWQaMcuFcPGldO8oSW64','W4SpWQVdRqm','WQ/dUCkaW5e8','aSoyr8kmWPq','W5fhWOJcNIrDWRy8WPabWQbfW5ZdNCo0uMaeW5VcU8kaWRddOCof','W5OAWQ3dVWuHWOhdMXqrgW','q8oeWOmlW7WcWPvVCa','W7mrWQZcQGaHWOVdGSo1a8kdWPtdN8oYW4v6tmkyW6lcK2ZdOI8zFuPjWQ7cMWxdMCkNWP7dMSk0sfX8W4FdSSoOhXddS8kcW4pdKCo4WR/cHmoXbJu2WPBcIftcJSkenmkqhGf1W7muW5OyW6LmWOtdOc92','lL8jW4NdGq','WQxdHSknW60K','r8oIWRtcHCoEBv0bW65bWReVbW','WQpcGsLZW5m','cdddKgpdISoCW4vQ','W5dcJJX0W6lcOa','WQKSW64LWR8uWRpdQwJcPSoTc8kwWP4','WPCxmIJcGY3cPCkyjqGuoSo/WObvhq','BYFcLxhdSta','qSkBFdv1pbhdLSoNkva','l8o/qmk5','mSkyWR8SWQK','zX1+W64','W4/dL8oaW4aiW77cNa','jSoeoslcOCkBfCox','D8kvDh7dQ8oevSkdW6pdIvbglLWSWPtdOmkcBW','WOP1vCoWD8k7E01JWPboWOfItg4o','j8k9W51Cna','pbdcP8oX','W6ZdU8k7'].concat((function(){return['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','W6uQerq','kb4aW4FcG8oi','W5LRWRab','FZpcNsWEiq','W58pWQ3dVW','smo1W7jfWO/cM38u','uSoeWRaiW6y','WOpdVJJcNCkY','BSkwW6RdJuSnwu/dHG','W6tdK8kRrG','W5ddNe5FsG','W6mQeGXbW7VdGW','W5vuWQqRc0ZcRG','WO/cHSkgWPrFWQNdIMxcI2NcUSoWW5pdRq','aCkuWQe1WOW','aCkKW5D9c0ms','WRpcQCkI','W5VdNCocW6KiW77cKq','mSkAWO0HWPi','oqKp','jXdcUmoBWQ3cGNGoeSkdWQJcKwddKG','W5BdPCo4W5xcKq','W5r5WPWspa','WP7cGYL5W6FdVCoq','W41BWPNcGa','BSk6eSoZW5rLWQ7dHSkPDqZdImoh','oJBdJKO','5RwJ6kAU56sS5y6XbSoWWR8Vt8o3ea','W4SQfq','WP7cJ8kSoYu','W4KlWQNdSGCQWOK','mmoxiq','WRtcVSkJeYhcSdW8aq','e8kloSoc','FmoIWR88WQvRe8kj','kKBcKZf/','W40mWQJcLHP2W43cMq','W4ZdTXa','f8k+W4zMhfqpf8oR','W5BcHqVdLwm','i2in','nCoDjc3cKW','aSkEf8onqG','WPKxp8oaWRW','wCodWQ4aW6CC','W5VdSauvAs/cPmkkWQ4','WOdcIt4','W6hdImkXqSk4txWHfuzo','W5xdQHS','W7WGdavzW4FdKSkLWO3dOa','W7dcGY/dSvej','kHCgW4RcSq','WOCkWRddQey6WPJdHXyavCoIW449WO8ncwJdGmkyWQmar8kBqMT/W5XHWR0UFCo6B8k8BmonW47dTSoXWQBdI8oddG/dImkoW5v8lrXVBW','kJZdK1S'];}()));}()));}());_0x5e2f=function(){return _0x265a52;};return _0x5e2f();};async function __crack(_0x255c1e){var _0x17a3c6=_0x368422,_0x5c50d3={'YowCL':_0x17a3c6(0x1c4,']!Pv'),'FsOUQ':_0x17a3c6(0x223,'J6nP'),'MkgmT':function(_0x20ba97,_0x289979,_0x52b08c){return _0x20ba97(_0x289979,_0x52b08c);},'HSdXp':function(_0x2d2245,_0x25fa66){return _0x2d2245+_0x25fa66;},'OkECW':function(_0x53a40c,_0x20249d){return _0x53a40c-_0x20249d;},'linVk':_0x17a3c6(0x20d,'cOZ('),'xNtHH':_0x17a3c6(0x1d1,'D@vs'),'ZkSyE':_0x17a3c6(0x1a6,'62ON'),'GTjQL':_0x17a3c6(0x1da,'D@vs'),'gOCFk':function(_0x5e1d3d,_0x528854){return _0x5e1d3d!==_0x528854;},'nEnkf':'EbrIe'},_0x118f2a='';try{var {statusCode:_0x1e2877,body:_0x38cee8}=await service[_0x17a3c6(0x1eb,')3cm')]({'url':_0x255c1e,'headers':{'Referer':_0x5c50d3[_0x17a3c6(0x1c5,'YaiV')]}});if(_0x1e2877===0xc8){if(_0x5c50d3[_0x17a3c6(0x21c,'N3Tb')]===_0x5c50d3['ZkSyE']){var _0x403530=_0x11ec10?.[_0x17a3c6(0x1a2,'MZO^')]||_0x173fad[0x0][_0x17a3c6(0x1f7,'^)yD')];_0x596470[_0x17a3c6(0x239,'pEns')]=_0x403530[_0x17a3c6(0x1cb,'IOo1')](_0x17a3c6(0x1e8,'LP6l'),_0x5c50d3[_0x17a3c6(0x1cc,'^i7l')]),_0x5141be[_0x17a3c6(0x1a1,'Frs]')]=0x0;}else _0x118f2a=_0x38cee8[_0x17a3c6(0x1f5,'7y0K')]('\x0a')[0x6][_0x17a3c6(0x232,'D@vs')](/(\w+_*)\d+\.ts/,_0x5c50d3[_0x17a3c6(0x212,'yufG')]);}}catch(_0x18f103){_0x5c50d3[_0x17a3c6(0x206,'7y0K')](_0x5c50d3['nEnkf'],_0x17a3c6(0x1c8,'yufG'))?console[_0x17a3c6(0x1ad,'MZO^')](_0x18f103):(_0x49d701&&(_0x397981[_0x17a3c6(0x21a,'VoWC')][_0x102dac][_0x17a3c6(0x19d,'WJmo')]=_0x2bc68e),_0x1552e7[_0x17a3c6(0x1cf,'cOZ(')]=_0x6519f[_0x17a3c6(0x1cf,'cOZ(')][_0x17a3c6(0x21e,'1Bp%')](_0x17a3c6(0x219,'IOo1'),'<head><div\x20style=\x22display:\x20flex;justify-content:\x20center;align-items:\x20center;flex-direction:\x20column;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.tips\x20{\x20animation:\x20animation\x201s\x20infinite;\x20text-shadow:\x200\x200\x203px\x20#fff,0\x200\x205px\x20#000;\x20font-size:\x2024px;\x20color:\x20red;\x20margin:\x200;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.rows\x20{\x20margin:\x2020px\x200;\x20display:\x20flex;\x20align-items:\x20center;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.channel,\x20.mine\x20{\x20border:5px\x20#fff\x20solid;box-shadow:\x200px\x200px\x201px\x201px\x20rgba(28,\x2028,\x2032,\x200.05),\x200px\x208px\x2024px\x20rgba(28,\x2028,\x2032,\x200.12);\x20width:\x20120px;\x20height:\x20120px;\x20border-radius:\x2050%;\x20position:\x20relative;\x20overflow:\x20hidden;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.mine\x20{\x20margin-left:\x2040px;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.channel\x20.img,\x20.mine\x20.img\x20{\x20position:absolute;top:0;left:0;width:\x20100%;\x20height:\x20100%;\x20background:url(https://raw.githubusercontent.com/Yuheng0101/X/main/Assets/channel.jpg)\x20no-repeat\x20center/contain}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.mine\x20.img{background-image:url(https://avatars.githubusercontent.com/u/50571734?s=100&u=808616a26243d457cae2e41ffa728895e1e5ed4b&v=4)}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.channel\x20span,\x20.mine\x20span\x20{\x20position:\x20absolute;\x20bottom:\x200;\x20left:\x200;\x20width:\x20100%;\x20height:\x2030px;\x20line-height:\x2030px;\x20text-align:\x20center;\x20background-color:\x20rgba(0,\x200,\x200,\x20.5);\x20color:\x20#fff;\x20font-size:\x2014px;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.channel\x20span\x20{\x20font-size:\x2012px;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@keyframes\x20animation\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x200%\x20{\x20transform:\x20translate(0,\x200);\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x2050%\x20{\x20transform:\x20translate(0,\x20-10px);\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20100%\x20{\x20transform:\x20translate(0,\x200);\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22tips\x22>脚本免费，付费购买，必是冤种</p><div\x20class=\x22rows\x22><a\x20class=\x22channel\x22\x20href=\x22https://t.me/yqc_123\x22\x20target=\x22_blank\x22><div\x20class=\x22img\x22></div><span>@yqc_123</span></a><a\x20class=\x22mine\x22\x20href=\x22https://github.com/Yuheng0101/X\x22\x20target=\x22_blank\x22><div\x20class=\x22img\x22></div><span>@𝘠𝘶𝘩𝘦𝘯𝘨</span></a></div></div>')[_0x17a3c6(0x231,']of8')](/<span class=\"sell-btn\" data-floor=\"0\"><span data-sell=\"0\" class=\"sell_line1\">(.*)<\/span><span data-sell=\"0\" class=\"sell_line2\">(.*)购买(.*)<\/span>/,_0x36f44b[_0xb718e0]),_0x1d0895[_0x17a3c6(0x205,'Yt[6')](_0x5c50d3[_0x17a3c6(0x23b,'P3NN')])&&(_0x11558d[_0x17a3c6(0x1b5,'5OT5')][_0x17a3c6(0x1a9,'7Mff')]=!![],_0xdbe983[_0x17a3c6(0x1c1,')9]k')]['buy_index']=_0x5c50d3[_0x17a3c6(0x20b,'yufG')](_0x434b2f,_0x3b856d[_0x17a3c6(0x229,'%93r')]()*_0x5c50d3[_0x17a3c6(0x1bc,')3cm')](_0x5c50d3[_0x17a3c6(0x1a4,'y]oU')](0x1388,0x3e8),0x1)+0x3e8,0xa)),_0x319497[_0x17a3c6(0x1e1,'c]kw')]({'body':_0x34f2fe[_0x17a3c6(0x1a3,'IIWS')]({..._0x5f375d,'isEncrypted':![],'data':_0x132e30})}));}return _0x118f2a;}function Haijiao(){var _0x1edf0c=_0x368422,_0x5b38b1={'sHHUV':function(_0x310d95,_0xc11748){return _0x310d95(_0xc11748);},'KPyFA':function(_0x2c4758,_0x308880){return _0x2c4758===_0x308880;},'Zleed':function(_0x19fc6b,_0x1d7b2b){return _0x19fc6b(_0x1d7b2b);},'iwDnU':function(_0x339d76,_0x461907){return _0x339d76!==_0x461907;},'zwwTL':_0x1edf0c(0x1a8,'qdOZ'),'ouOgW':function(_0x2cf8b7,_0x57021a){return _0x2cf8b7(_0x57021a);},'tktpv':_0x1edf0c(0x1d9,'t0%]'),'btAjt':function(_0x1f323a,_0x59a85a){return _0x1f323a(_0x59a85a);},'xOhKk':function(_0x5e585a,_0x1d534e){return _0x5e585a(_0x1d534e);}};return new class{['encrypt'](_0x20e5fa){var _0x490111=_0x1edf0c,_0x1461df={'XTbGp':function(_0x317367,_0x1eb29d){var _0x1b51ac=_0x4892;return _0x5b38b1[_0x1b51ac(0x23c,'D@vs')](_0x317367,_0x1eb29d);},'xcVrK':function(_0x286de0,_0x3a29f9){var _0x390081=_0x4892;return _0x5b38b1[_0x390081(0x1f6,')9]k')](_0x286de0,_0x3a29f9);},'CwiSF':_0x490111(0x1d3,'J)P8'),'iHlKD':function(_0x1ea831,_0x503cbb){var _0xa107e5=_0x490111;return _0x5b38b1[_0xa107e5(0x1ff,'%3][')](_0x1ea831,_0x503cbb);},'kHrLa':function(_0x5aa867,_0x51bcf0){return _0x5aa867(_0x51bcf0);}};return _0x5b38b1['iwDnU'](_0x5b38b1[_0x490111(0x1ba,'1Bp%')],_0x5b38b1[_0x490111(0x1c0,'t0%]')])?new class{[_0x490111(0x235,'IIWS')](_0x4b1546){var _0x2011fc=_0x490111;return _0x298cc5(_0x1461df[_0x2011fc(0x19a,'WJmo')](_0x3b7b51,_0x1461df[_0x2011fc(0x20c,']Kf#')](_0x59ee33,_0x3746d3[_0x2011fc(0x1b3,'pEns')](_0x1461df[_0x2011fc(0x1f4,'D(9*')](typeof _0x4b1546,_0x1461df[_0x2011fc(0x222,'IIWS')])?_0x4b1546:_0x38843f[_0x2011fc(0x1d5,'YaiV')](_0x4b1546)))));}[_0x490111(0x1bf,'Frs]')](_0x5c8512){var _0x1babcb=_0x490111;return _0x22cc55['parse'](_0x40f674[_0x1babcb(0x202,'Frs]')](_0x1461df[_0x1babcb(0x1fc,'^)yD')](_0x41dd73,_0x1461df['kHrLa'](_0x3dda85,_0x1461df['iHlKD'](_0x16be98,_0x5c8512)))));}}():btoa(_0x5b38b1[_0x490111(0x1ea,'o$lh')](btoa,_0x5b38b1[_0x490111(0x230,'foB6')](btoa,utf8[_0x490111(0x1cd,']Kf#')](_0x5b38b1['KPyFA'](typeof _0x20e5fa,_0x5b38b1['tktpv'])?_0x20e5fa:JSON[_0x490111(0x22e,'OO$L')](_0x20e5fa)))));}['decrypt'](_0x3e7871){var _0x1e700d=_0x1edf0c;if(_0x5b38b1[_0x1e700d(0x1e5,'y]oU')]('CcsDk','jLEGK'))return JSON[_0x1e700d(0x20a,'L85B')](utf8[_0x1e700d(0x227,'pEns')](_0x5b38b1[_0x1e700d(0x1a7,')3cm')](atob,_0x5b38b1[_0x1e700d(0x22c,'7Mff')](atob,_0x5b38b1[_0x1e700d(0x211,'5OT5')](atob,_0x3e7871)))));else _0x1d7bb2['log'](_0x55b086);}}();}var version_ = 'jsjiami.com.v7';
// prettier-ignore
function Utf8(){return new class{constructor(){this.byteArray=null,this.byteCount=null,this.byteIndex=null}ucs2decode(r){for(var e,t,n=[],o=0,a=r.length;o<a;)(e=r.charCodeAt(o++))>=55296&&e<=56319&&o<a?56320==(64512&(t=r.charCodeAt(o++)))?n.push(((1023&e)<<10)+(1023&t)+65536):(n.push(e),o--):n.push(e);return n}ucs2encode(r){for(var e,t=r.length,n=-1,o="";++n<t;)(e=r[n])>65535&&(o+=String.fromCharCode((e-=65536)>>>10&1023|55296),e=56320|1023&e),o+=String.fromCharCode(e);return o}checkScalarValue(r){if(r>=55296&&r<=57343)throw Error("Lone surrogate U+"+r.toString(16).toUpperCase()+" is not a scalar value")}createByte(r,e){return String.fromCharCode(r>>e&63|128)}encodeCodePoint(r){if(0==(4294967168&r))return String.fromCharCode(r);var e="";return 0==(4294965248&r)?e=String.fromCharCode(r>>6&31|192):0==(4294901760&r)?(this.checkScalarValue(r),e=String.fromCharCode(r>>12&15|224),e+=this.createByte(r,6)):0==(4292870144&r)&&(e=String.fromCharCode(r>>18&7|240),e+=this.createByte(r,12),e+=this.createByte(r,6)),e+String.fromCharCode(63&r|128)}encode(r){for(var e=this.ucs2decode(r),t=e.length,n=-1,o="";++n<t;)o+=this.encodeCodePoint(e[n]);return o}readContinuationByte(){if(this.byteIndex>=this.byteCount)throw Error("Invalid byte index");var r=255&this.byteArray[this.byteIndex];if(this.byteIndex++,128==(192&r))return 63&r;throw Error("Invalid continuation byte")}decodeSymbol(){var r,e;if(this.byteIndex>this.byteCount)throw Error("Invalid byte index");if(this.byteIndex==this.byteCount)return!1;if(r=255&this.byteArray[this.byteIndex],this.byteIndex++,0==(128&r))return r;if(192==(224&r)){if((e=(31&r)<<6|this.readContinuationByte())>=128)return e;throw Error("Invalid continuation byte")}if(224==(240&r)){if((e=(15&r)<<12|this.readContinuationByte()<<6|this.readContinuationByte())>=2048)return this.checkScalarValue(e),e;throw Error("Invalid continuation byte")}if(240==(248&r)&&(e=(7&r)<<18|this.readContinuationByte()<<12|this.readContinuationByte()<<6|this.readContinuationByte())>=65536&&e<=1114111)return e;throw Error("Invalid UTF-8 detected")}decode(r){this.byteArray=this.ucs2decode(r),this.byteCount=this.byteArray.length,this.byteIndex=0;for(var e,t=[];!1!==(e=this.decodeSymbol());)t.push(e);return this.ucs2encode(t)}}}
// prettier-ignore
function Env(t, e) { class s { constructor(t) { this.env = t } send(t, e = "GET") { t = "string" == typeof t ? { url: t } : t; let s = this.get; return "POST" === e && (s = this.post), new Promise((e, i) => { s.call(this, t, (t, s, r) => { t ? i(t) : e(s) }) }) } get(t) { return this.send.call(this.env, t) } post(t) { return this.send.call(this.env, t, "POST") } } return new class { constructor(t, e) { this.name = t, this.http = new s(this), this.data = null, this.dataFile = "box.dat", this.logs = [], this.isMute = !1, this.isNeedRewrite = !1, this.logSeparator = "\n", this.startTime = (new Date).getTime(), Object.assign(this, e), this.log("", `\ud83d\udd14${this.name}, \u5f00\u59cb!`) } isNode() { return "undefined" != typeof module && !!module.exports } isQuanX() { return "undefined" != typeof $task } isSurge() { return "undefined" != typeof $httpClient && "undefined" == typeof $loon } isLoon() { return "undefined" != typeof $loon } toObj(t, e = null) { try { return JSON.parse(t) } catch { return e } } toStr(t, e = null) { try { return JSON.stringify(t) } catch { return e } } getjson(t, e) { let s = e; const i = this.getdata(t); if (i) try { s = JSON.parse(this.getdata(t)) } catch { } return s } setjson(t, e) { try { return this.setdata(JSON.stringify(t), e) } catch { return !1 } } getScript(t) { return new Promise(e => { this.get({ url: t }, (t, s, i) => e(i)) }) } runScript(t, e) { return new Promise(s => { let i = this.getdata("@chavy_boxjs_userCfgs.httpapi"); i = i ? i.replace(/\n/g, "").trim() : i; let r = this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout"); r = r ? 1 * r : 20, r = e && e.timeout ? e.timeout : r; const [o, h] = i.split("@"), a = { url: `http://${h}/v1/scripting/evaluate`, body: { script_text: t, mock_type: "cron", timeout: r }, headers: { "X-Key": o, Accept: "*/*" } }; this.post(a, (t, e, i) => s(i)) }).catch(t => this.logErr(t)) } loaddata() { if (!this.isNode()) return {}; { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e); if (!s && !i) return {}; { const i = s ? t : e; try { return JSON.parse(this.fs.readFileSync(i)) } catch (t) { return {} } } } } writedata() { if (this.isNode()) { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e), r = JSON.stringify(this.data); s ? this.fs.writeFileSync(t, r) : i ? this.fs.writeFileSync(e, r) : this.fs.writeFileSync(t, r) } } lodash_get(t, e, s) { const i = e.replace(/\[(\d+)\]/g, ".$1").split("."); let r = t; for (const t of i) if (r = Object(r)[t], void 0 === r) return s; return r } lodash_set(t, e, s) { return Object(t) !== t ? t : (Array.isArray(e) || (e = e.toString().match(/[^.[\]]+/g) || []), e.slice(0, -1).reduce((t, s, i) => Object(t[s]) === t[s] ? t[s] : t[s] = Math.abs(e[i + 1]) >> 0 == +e[i + 1] ? [] : {}, t)[e[e.length - 1]] = s, t) } getdata(t) { let e = this.getval(t); if (/^@/.test(t)) { const [, s, i] = /^@(.*?)\.(.*?)$/.exec(t), r = s ? this.getval(s) : ""; if (r) try { const t = JSON.parse(r); e = t ? this.lodash_get(t, i, "") : e } catch (t) { e = "" } } return e } setdata(t, e) { let s = !1; if (/^@/.test(e)) { const [, i, r] = /^@(.*?)\.(.*?)$/.exec(e), o = this.getval(i), h = i ? "null" === o ? null : o || "{}" : "{}"; try { const e = JSON.parse(h); this.lodash_set(e, r, t), s = this.setval(JSON.stringify(e), i) } catch (e) { const o = {}; this.lodash_set(o, r, t), s = this.setval(JSON.stringify(o), i) } } else s = this.setval(t, e); return s } getval(t) { return this.isSurge() || this.isLoon() ? $persistentStore.read(t) : this.isQuanX() ? $prefs.valueForKey(t) : this.isNode() ? (this.data = this.loaddata(), this.data[t]) : this.data && this.data[t] || null } setval(t, e) { return this.isSurge() || this.isLoon() ? $persistentStore.write(t, e) : this.isQuanX() ? $prefs.setValueForKey(t, e) : this.isNode() ? (this.data = this.loaddata(), this.data[e] = t, this.writedata(), !0) : this.data && this.data[e] || null } initGotEnv(t) { this.got = this.got ? this.got : require("got"), this.cktough = this.cktough ? this.cktough : require("tough-cookie"), this.ckjar = this.ckjar ? this.ckjar : new this.cktough.CookieJar, t && (t.headers = t.headers ? t.headers : {}, void 0 === t.headers.Cookie && void 0 === t.cookieJar && (t.cookieJar = this.ckjar)) } get(t, e = (() => { })) { t.headers && (delete t.headers["Content-Type"], delete t.headers["Content-Length"]), this.isSurge() || this.isLoon() ? (this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.get(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) })) : this.isQuanX() ? (this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t))) : this.isNode() && (this.initGotEnv(t), this.got(t).on("redirect", (t, e) => { try { if (t.headers["set-cookie"]) { const s = t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString(); s && this.ckjar.setCookieSync(s, null), e.cookieJar = this.ckjar } } catch (t) { this.logErr(t) } }).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) })) } post(t, e = (() => { })) { if (t.body && t.headers && !t.headers["Content-Type"] && (t.headers["Content-Type"] = "application/x-www-form-urlencoded"), t.headers && delete t.headers["Content-Length"], this.isSurge() || this.isLoon()) this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.post(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) }); else if (this.isQuanX()) t.method = "POST", this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t)); else if (this.isNode()) { this.initGotEnv(t); const { url: s, ...i } = t; this.got.post(s, i).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) }) } } time(t) { let e = { "M+": (new Date).getMonth() + 1, "d+": (new Date).getDate(), "H+": (new Date).getHours(), "m+": (new Date).getMinutes(), "s+": (new Date).getSeconds(), "q+": Math.floor(((new Date).getMonth() + 3) / 3), S: (new Date).getMilliseconds() }; /(y+)/.test(t) && (t = t.replace(RegExp.$1, ((new Date).getFullYear() + "").substr(4 - RegExp.$1.length))); for (let s in e) new RegExp("(" + s + ")").test(t) && (t = t.replace(RegExp.$1, 1 == RegExp.$1.length ? e[s] : ("00" + e[s]).substr(("" + e[s]).length))); return t } msg(e = t, s = "", i = "", r) { const o = t => { if (!t) return t; if ("string" == typeof t) return this.isLoon() ? t : this.isQuanX() ? { "open-url": t } : this.isSurge() ? { url: t } : void 0; if ("object" == typeof t) { if (this.isLoon()) { let e = t.openUrl || t.url || t["open-url"], s = t.mediaUrl || t["media-url"]; return { openUrl: e, mediaUrl: s } } if (this.isQuanX()) { let e = t["open-url"] || t.url || t.openUrl, s = t["media-url"] || t.mediaUrl; return { "open-url": e, "media-url": s } } if (this.isSurge()) { let e = t.url || t.openUrl || t["open-url"]; return { url: e } } } }; if (this.isMute || (this.isSurge() || this.isLoon() ? $notification.post(e, s, i, o(r)) : this.isQuanX() && $notify(e, s, i, o(r))), !this.isMuteLog) { let t = ["", "==============\ud83d\udce3\u7cfb\u7edf\u901a\u77e5\ud83d\udce3=============="]; t.push(e), s && t.push(s), i && t.push(i), console.log(t.join("\n")), this.logs = this.logs.concat(t) } } log(...t) { t.length > 0 && (this.logs = [...this.logs, ...t]), console.log(t.join(this.logSeparator)) } logErr(t, e) { const s = !this.isSurge() && !this.isQuanX() && !this.isLoon(); s ? this.log("", `\u2757\ufe0f${this.name}, \u9519\u8bef!`, t.stack) : this.log("", `\u2757\ufe0f${this.name}, \u9519\u8bef!`, t) } wait(t) { return new Promise(e => setTimeout(e, t)) } done(t = {}) { const e = (new Date).getTime(), s = (e - this.startTime) / 1e3; this.log("", `\ud83d\udd14${this.name}, \u7ed3\u675f! \ud83d\udd5b ${s} \u79d2`), this.log(), (this.isSurge() || this.isQuanX() || this.isLoon()) && $done(t) } }(t, e) }
